# 介绍
``
landz-sensors-fullstack
``
是根据业务需求封装的前端组件库，目前适用于前端对外所有项目（官网、小程序及 H5 分享页和内嵌页）。
## 如何工作
项目中引入组件库中的方法和项目对应对象，在项目初始化时通过调用方法进行神策的初始化。发送对应埋点时，创建引入对象的实例并将
需要的属性对象传入，在对象实例化的过程中组件库的内部方法会对属性做出相应的判断。如果出现不符合要求的操作会在控制台报错显示（仅开发环境），但不会阻塞项目运行,详见[代码实现](/pages/component/code.html)。
## Features
* 统一封装：小程序、H5及官网相关已统一封装，如何使用详见[组件使用](/pages/component/usage.html)。
* 分类维护：按照业务需求将神策字段分为基础类型、功能类型和展现端类型。
* 属性判断：增加对属性值的类型及规则的判断，降低埋点失败及错误值出现的概率。
## 分类
按照业务分为五个基础类型、六个功能类型和五个展现端类型（表格中 '-' 代表同上）。
### 基础类型
#### __Common(通用) 类__:
| 属性名 | 属性含义 | 属性值 |
| :----:  | :----: | :----:  |
| channel_id | 渠道ID | 组合规则 |
| - | - | 'APPiOS'+idfa(Ios) |
| - | - | 'APPAndroid'+设备ID(安卓) |
| - | - | 'MP'+openid(H5) |	
| - | - | 'miniapp'+openid(小程序) |
| - | - | 'pc'+userid(PC官网) |
| - | - | 'wap'+userid(wap) |
| $ip | IP | 神策自带 |
| $city | 城市 | 神策自带 |
| longitude | 经度 | 数字 |
| latitude | 纬度 | 数字 |
| channel_name | 渠道名称 | 小程序 |
| - | - | APP安卓 |
| - | - | APPiOS |
| - | - | wap |
| - | - | PC官网 |
| - | - | H5 |
| - | - | powerapp |
| event_set | 事件 | 浏览 |
| - | - | 筛选 |
| - | - | 登录 |
| - | - | 启动 |
| - | - | 退出 |
| - | - | 分享 |
| - | - | 关注 |
| - | - | 取消关注 |
| - | - | 订阅 |
| - | - | 取消订阅 |
| - | - | 搜索 |
| - | - | 搜索并筛选 |
| - | - | 拨打电话 |
| - | - | 在线咨询 |
| - | - | 咨询客服 |
| - | - | 留言 |
| - | - | 下载APP |
| - | - | 播放视频 |
| - | - | 扫码拨号 |	
| - | - | 预约看房 |
| - | - | 点击VR带看 |
| - | - | 播放VR |
| - | - | 下载APP |
| - | - | 点击目录 |
| - | - | 点击全屏按钮 |
| - | - | 点击视频 |
| - | - | 取消专属顾问 |
| page_type | 页面类型 | 首页 |
| - | - | 详情页 |
| - | - | 列表页 |
| - | - | 搜索页 |
| page_name | 页面名称 | 汉字 |
| service_type | 频道名称 | 首页 |
| - | - | 主题推荐 |
| - | - | 搜索 |
| - | - | 我的 |
| - | - | 微聊 |
| - | - | 通知 |
| - | - | 市场报告 |
| - | - | 二手买卖 |
| - | - | 新房 |
| - | - | 二手租赁 |
| - | - | 四合院买卖 |
| - | - | 四合院租赁 |
| - | - | 海外 |
| - | - | 找楼盘 |
| - | - | 找顾问 |
| - | - | 评估报告 |
| - | - | 卖房出租 |
| - | - | 多套转发 |
| - | - | 资讯 |
| - | - | 地图找房 |
| - | - | 帮您找房 |
| - | - | 公司介绍 |
| source_param | 来源参数 | 902200000001(自然搜索情况下，推广码值) |
| - | - | service_type +  page_type （其他）|
| source_from | 来源类型 | 码值 |
| - | - |902300000001(Power APP分享)|
| - | - |902300000002(客户端APP分享)|
| - | - |902300000003(公众号菜单)|
| - | - |902300000004(公众号文章)|
| - | - |902300000005(公众号模板消息)|
| - | - |902300000006(服务通知)|
| - | - |902300000007(内部跳转)|
| - | - |902300000008(微信)|
| - | - |902300000009(营销广告)|
| - | - |902300000010(直接启动)|
| - | - |902300000011（推送）|
| - | - |902300000012（WAP引流）|
| - | - |902300000013（PC引流）|
| - | - |902300000014（直接访问）|
| - | - |902300000015（SEM推广）|
| - | - |902300000016（自然搜索）|
| - | - |902300000017（客户端APP内置H5）|
| - | - |902300000018（WAP站内嵌H5）|
| - | - |902300000019（powerApp内嵌H5）|
| - | - |902300000020（PC 扫码进入 WAP）|
| - | - |902300000021（小程序分享）|
| - | - |902300000022（公众号引流）|
| - | - |902300000023（百度引流）|
| - | - |902300000024（短信推广）|
| - | - |902300000025（资料库文章分享）|
| init_ca | 初始渠道 | 码值 |
| - | - |902300000001（Power APP分享）| 
| - | - |902200000001（百度）| 
| - | - |902200000002（360）|
| - | - |902200000003（今日头条）| 
| - | - |902200000004（小米）|
| - | - |902200000005（华为）|
| - | - |902200000006（应用宝）| 
| - | - |902200000007（landz）| 
| - | - |902200000008（AppStore）| 
| - | - |902200000099（其他）| 
| search_key | 搜索词 | 字符串 |
| screen_key | 筛选条件 | 字符串 |
| total | 匹配结果条数 |数字 |

#### __Resblock(楼盘) 类__:
| 属性名 | 属性含义 | 属性值 |
| :----:  | :----: | :----:  |
| prjId | 新房prjID | （字符串） |
| resblock_id | 楼盘ID | （字符串） |
| resblock_name | 楼盘名称 | （字符串） |
| min_area | 最小面积 | （字符串数字） |
| max_area | 最大面积 | （字符串数字） |
| min_rooms | 最小居室 | （字符串数字） |
| max_rooms | 最大居室 | （字符串数字） |
| min_price | 最小价格 | 字符串 |
| max_price | 最大价格 | 字符串 |
| video_type | 视频类型 | 字符串 |
| - | - | 房源 |
| - | - | 楼盘 |
| - | - | 样板间 |
| - | - | 楼盘讲解 |
| - | - | 商圈 |
| photo_type | 相册类型 | 字符串 |
| - | - | 视频看房 |
| - | - | VR看房 |
| - | - | 图片看房 |

#### __House(房源) 类__:

| 属性名 | 属性含义 | 属性值 |
| :----:  | :----: | :----:  |
| house_code | 房源编码 | 字符串 |
| img_url  | 房源标题图 | 字符串 |
| project_type | 产品类型 | 高档住宅 |
| - | - | 商业 |
| - | - | 四合院 |
| - | - | 别墅(独栋) |
| - | - | 别墅(联排) |
| - | - | 别墅(叠拼) |
| - | - | 别墅(联排/双拼)（多种别墅） |
| - | - | 高档住宅/别墅(叠拼/联排)（多种类型） |
| living_room | 最小居室 | 字符串 |
| bath_room | 卫数 | 字符串 |
| house_id | 房源ID | 字符串 |
| house_del_id | 房源委托ID | 字符串数字 |
| c_na | 城区 | 字符串 |
| b_na | 商圈 | 字符串 |
| is_vr_house | VR房源 | 是和否 |
| is_video_house | 视频房源 | 是和否 |
| video_type | 视频类型 | 字符串 |
| - | - | 房源 |
| - | - | 楼盘 |
| - | - | 样板间 |
| - | - | 楼盘讲解 |
| - | - | 商圈 |
| photo_type | 相册类型 | 字符串 |
| - | - | 视频看房 |
| - | - | VR看房 |
| - | - | 图片看房 |

#### __User(用户) 类__:

| 属性名 | 属性含义 | 属性值 |
| :----:  | :----: | :----:  |
| crm_id | CRMID | 字符串 |
| cust_im_id | 客户微聊ID | 【updating...】 |
| distinct_id | 用户标识 | 设备ID(安卓) |
| - | - | idfa(Ios) |
| - | - | openid(小程序) |
| - | - | userid(官网) |
| - | - | 微聊ID(规则同 cust_im_id )(H5) |
| wx_unionid | unionId | 字符串 |
| open_id | openid | 字符串 |
| phone | 手机号 | 字符串 |
| is_login | 是否登录 | 未登录 |
| - | - | 登录 |
| cust_properties | 用户性质 | cust  |
| - | - | holder  |
| resp_msg | 登录信息 | 字符串 |
| t_msg | 留言类型 | 字符串 |
| - | - | 一键找房 |
| - | - | 预约看房 |
| - | - | 卖房出租 |
| - | - | 帮我找房 |
| - | - | 帮您找房 |
| - | - | 户型定制 |
| - | - | 楼盘咨询 |

#### __Consultant(顾问) 类__:

| 属性名 | 属性含义 | 属性值 |
| :----:  | :----: | :----:  |
| holder_id | 顾问id | 字符串 |
| holder_code | 顾问工号 | 字符串 |
| holder_img | 顾问头像 | 字符串 |
| holder_position | 顾问等级 | 豪宅顾问	 |
| - | - | 高级豪宅顾问 |
| - | - | 资深豪宅顾问 |
| - | - | 高级豪宅店经理 |
| - | - | 资深豪宅店经理 |
| holder_years  | 顾问从业年限 | 字符串 |
| showing_60  | 60天内带看 |数字 |
| cust_90 | 90天内带看 | 数字|
| holder_edu | 顾问学历 | 字符串|
| holder_module  | 顾问精耕板块 | 数组 |
| holder_key_resblock  | 顾问重点楼盘 | 数组 |
| holder_label  | 顾问标签 | 字符串 |
| holder_name | 顾问姓名 | 字符串 |

### 功能类型
#### __Chat(微聊） 类__:

| 属性名 | 属性含义 | 属性值 |
| :----:  | :----: | :----:  |
| start_time | 微聊开始时间 | （字符串） |
| end_time | 微聊结束时间 | （字符串） |

#### __Share(分享) 类__:

| 属性名 | 属性含义 | 属性值 |
| :----:  | :----: | :----:  |
| share_type | 分享方式 | 短信 |
| - | - | 微信 |
| - | - | 朋友圈 |
| - | - | 收藏|
| share_root_id | 分享ID |字符串|
| type_id | 多套ID | ID |
| type_name | 多套标题 |（字符串）|

#### __Report(报告) 类__:

| 属性名 | 属性含义 | 属性值 |
| :----:  | :----: | :----:  |
| dir_name | 目录名称 | 核心优劣总结 |
| - | - |未来规划|
| - | - |豪宅精选|
| - | - |生活配套|
| - | - |商圈业主|
| - | - |户型设计|
| - | - |租售房源|
| - | - |灵魂卖点|
| - | - |楼盘相册|
| - | - |新盘推荐|
| - | - |居住体验|
| - | - |推荐楼盘|
| - | - |楼盘故事|
| - | - |二手成交|
| - | - |商圈发展史|
| - | - |商圈楼盘|
| - | - |楼盘参数|
| - | - |相似楼盘|
| - | - |生活指南|
| - | - |楼盘位置|
| - | - |临近商圈|
| month | 月份 | 字符串 |
| report_name | 报告名称 | 字符串 |
| report_city | 报告城市 | 字符串 |
| room_num | 房间号 | 字符串 |

#### __RecommendedTopics(主题推荐) 类__:

| 属性名 | 属性含义 | 属性值 |
| :----:  | :----: | :----:  |
| theme_id | 主题ID | 字符串 |
| theme_name | 主题名称 | 字符串 |

#### __AppPromotion（App推广） 类__:

| 属性名 | 属性含义 | 属性值 |
| :----:  | :----: | :----:  |
| position_name | 推广位名称 | 导航推广 |
| - | - |特价房推广 |
| - | - |顶部推广 |
| - | - |通栏推广位 |
| - | - |菜单栏3（公众号）|
| - | - |底部悬浮 |
| - | - |右侧悬浮推广 |
| position_context | 推广文案 | 字符串 |

#### __~~云房帮 类~~__（Abandoned）:

| 属性名 | 属性含义 | 属性值 |
| :----:  | :----: | :----:  |
| article_url | 文章链接 | 字符串 |

### 展示端类型
####  __Website(官网） 类__:

| 属性名 | 属性含义 | 属性值 |
| :----:  | :----: | :----:  |
| site_name | 站点码值 | 110000 |
| - | - | 310000 |
| - | - | 440300 |

#### __MiniProgram(小程序） 类__:

| 属性名 | 属性含义 | 属性值 |
| :----:  | :----: | :----:  |

#### __H5(H5） 类__:

| 属性名 | 属性含义 | 属性值 |
| :----:  | :----: | :----:  |

#### __Android(安卓） 类__:

| 属性名 | 属性含义 | 属性值 |
| :----:  | :----: | :----:  |
| machine_id | 安卓设备ID | ID |

#### __Ios(ios） 类__:

| 属性名 | 属性含义 | 属性值 |
| :----:  | :----: | :----:  |
| idfa | IOS设备标识 | 字符串 |